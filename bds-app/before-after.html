<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Before & After Â· AI Photo Studio</title>
<link rel="stylesheet" href="before-after.css">

<!-- Firebase Auth -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import {
  getAuth,
  onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyCM6r66kW9xkBA5rgVcz4sP57N2v2BMbkg",
  authDomain: "ai-photo-studio-24354.firebaseapp.com",
  projectId: "ai-photo-studio-24354",
  storageBucket: "ai-photo-studio-24354.firebasestorage.app",
  messagingSenderId: "411346648650",
  appId: "1:411346648650:web:aefd1b26027ed5e8fab0b3",
  measurementId: "G-8TXC63YKPD"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

onAuthStateChanged(auth, (user) => {
  if (!user) window.location.href = "/signin.html";
});
</script>

</head>
<body>

<header class="top-bar">
  <h1>Before & After</h1>
  <nav>
    <a href="/index.html">Dashboard</a>
    <a href="/gallery.html">Gallery</a>
    <a href="/profile.html">Profile</a>
  </nav>
</header>

<section class="container">

  <div class="upload-box" id="uploadArea">
    <p>Upload an image to compare results</p>
    <button onclick="triggerUpload()">Upload Image</button>
  </div>

  <input type="file" id="uploadInput" hidden accept="image/*">

  <!-- IMAGE COMPARISON -->
  <div class="comparison hidden" id="comparisonBox">
    <div class="img-wrapper">
      <img id="beforeImg" class="beforeImg" alt="Before">
      <img id="afterImg" class="afterImg" alt="After">
      <div id="slider" class="slider"></div>
    </div>

    <div class="actions">
      <button onclick="saveImage()" class="saveBtn">Save Final Image</button>
      <button onclick="resetComparison()" class="resetBtn">Reset</button>
    </div>
  </div>

</section>

<script src="before-after.js"></script>
</body>
</html>
