<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Photo Studio â€“ Editor</title>

    <link rel="stylesheet" href="editor.css" />

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js"></script>

    <!-- Your Firebase config (safe to commit) -->
    <script src="firebase-config.js"></script>

    <!-- Your AI keys (NOT committed â†’ safe) -->
    <script src="/config/aiKeys.js"></script>
</head>

<body>

    <!-- SIDEBAR -->
    <div class="sidebar">
        <h1 class="logo">AI Photo Studio</h1>

        <button class="nav-btn" onclick="goTo('upload')">ğŸ“ Upload</button>
        <button class="nav-btn" onclick="runBackgroundRemoval()">ğŸ«§ Remove Background</button>
        <button class="nav-btn" onclick="showBackgroundTools()">ğŸŒ„ Change Background</button>
        <button class="nav-btn" onclick="applyEnhance()">âœ¨ Enhance</button>
        <button class="nav-btn" onclick="applyBlur()">ğŸ’¨ Blur</button>
        <button class="nav-btn" onclick="enableMagicErase()">ğŸª„ Magic Erase</button>

        <button class="nav-btn" onclick="goTo('gallery')">ğŸ–¼ Gallery</button>

        <button class="nav-btn upgrade-btn" onclick="goTo('pricing')">âœ¨ Upgrade to Pro</button>

        <button class="sign-out" onclick="logout()">Sign Out</button>
    </div>

    <!-- MAIN AREA -->
    <div class="main-area">

        <!-- TOP BAR -->
        <div class="top-bar">
            <div class="dropdown">All Photos â–¾</div>
            <button class="save-btn" onclick="saveFinalImage()">Save</button>
        </div>

        <div class="editor-wrapper">

            <!-- CANVAS PANEL -->
            <div class="canvas-panel" id="canvasPanel">

                <div id="dropZone" class="drop-zone">
                    <p>Tap or Drag an Image to Upload</p>
                    <input type="file" id="fileInput" accept="image/*" hidden />
                </div>

                <canvas id="canvas"></canvas>
            </div>

            <!-- TOOLS PANEL -->
            <div class="tool-panel">

                <h2 class="tool-title">Background Options</h2>

                <input type="file" id="bgInput" accept="image/*" hidden />
                <button class="tool-btn" onclick="document.getElementById('bgInput').click()">
                    ğŸ“ Upload Background
                </button>

                <div class="bg-gallery">
                    <img src="backgrounds/bg1.jpg" onclick="selectPresetBackground(this.src)" />
                    <img src="backgrounds/bg2.jpg" onclick="selectPresetBackground(this.src)" />
                    <img src="backgrounds/bg3.jpg" onclick="selectPresetBackground(this.src)" />
                </div>

                <h3 class="tool-subtitle">Solid Backgrounds</h3>

                <div class="color-selector">
                    <div class="color-swatch" style="background:#ffffff" onclick="selectColorBackground('#ffffff')"></div>
                    <div class="color-swatch" style="background:#000000" onclick="selectColorBackground('#000000')"></div>
                    <div class="color-swatch" style="background:#50a7f4" onclick="selectColorBackground('#50a7f4')"></div>
                    <div class="color-swatch" style="background:#e64343" onclick="selectColorBackground('#e64343')"></div>
                    <div class="color-swatch" style="background:#1dd15c" onclick="selectColorBackground('#1dd15c')"></div>
                </div>

                <button class="tool-btn" onclick="applyBackgroundChange()">Apply Background</button>

                <h2 class="tool-title">Magic Erase</h2>
                <button class="tool-btn" onclick="enableMagicErase()">Start Erasing</button>
                <button class="tool-btn" onclick="runMagicErase()">Apply Magic Erase</button>

            </div>
        </div>

    </div>

    <script src="editor.js"></script>

</body>
</html>